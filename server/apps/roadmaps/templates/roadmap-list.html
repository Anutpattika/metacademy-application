{% extends "base.html" %}
{% load staticfiles $}
{% load static %}


{% block jscript-extend %}
<script type="text/javascript" src="{% static "javascript/gen-utils.js" %}"></script>
{% endblock %}

{% block title %}
  Metacademy - {{ pl_doc_type }}
{% endblock %}

{% block extra-css %}
  <link rel="stylesheet" href="{% static "css/search.css" %}" />
{% endblock %}


{% block main %}
  <div class="search-res-wrapper">

    <h1>
      Public {{ pl_doc_type }}
      <a id="new-roadmap-link" href="{% url 'roadmaps:new' %}">+ New {{ doc_type }}</a>
    </h1>

    <div class="search-res">
      {% if not roadmaps|length %}
        <div class="nosearch-message">
          {{ empty_message }}
        </div>
      {% endif %}
      <ul class="search-res-list">
        {% for roadmap in roadmaps %}
          <li class="search-res-li">
            <h3 class="search-res-title">
              <a class="search-res-link internal-link" href="{{ roadmap.roadmapsettings.get_absolute_url }}"> {{ roadmap.title }} </a>
            </h3>
            <div class="search-res-description">
              <p>Created by: {{ roadmap.author }}</p>
              <p>Intended for: {{ roadmap.audience }}</p>
              <p>{{ roadmap.blurb }}</p>
            </div>
          </li>
        {% endfor %}
      </ul>
    </div>

  </div>
{% endblock %}
